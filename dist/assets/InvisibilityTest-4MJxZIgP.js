import{u as E,c as f,r as d,b as n,e as t,t as i,j as s,g as u,x as I,X as M,q as b,h as w,p as S,W as P,o,k as c,F as V,m as A}from"./vendor-CF_RhtoL.js";import{_ as R,u as B,t as L}from"./index-ExLrMhhm.js";const $={class:"invisibilitytest-section my-4"},q={class:"text-secondary"},F={class:"row"},O={class:"col-12 mb-3"},U={class:"card-body"},W={class:"col-12 col-md-auto mt-2"},K={class:"input-group mb-2 mt-3"},Q={class:"input-group-text"},X={for:"collectingDatas"},G=["disabled"],H={key:0},J={key:1,class:"spinner-grow spinner-grow-sm","aria-hidden":"true"},Y={class:"jn-placeholder"},Z={key:0,class:"text-danger"},tt={key:0,class:"alert alert-success",role:"alert"},it={key:0},et={key:1},st={key:2},lt={key:3},nt={key:0,class:"table-responsive text-nowrap"},ot={scope:"col"},at={scope:"col"},ct={scope:"col"},rt={class:"jn-table-col"},ut={key:0,class:"opacity-75"},yt={key:1,class:"opacity-75"},dt={key:0,class:"opacity-75"},pt={key:1,class:"opacity-75"},vt={key:0,class:"opacity-75"},bt={key:1,class:"opacity-75"},xt={key:0,class:"opacity-75"},_t={key:1,class:"opacity-75"},ht={key:0,class:"opacity-75"},mt={key:1,class:"opacity-75"},kt={key:0,class:"opacity-75"},gt={key:1,class:"opacity-75"},ft={key:0,class:"opacity-75"},wt={key:1,class:"opacity-75"},St={key:0,class:"opacity-75"},Pt={key:1,class:"opacity-75"},Tt={key:0,class:"opacity-75"},zt={key:1,class:"opacity-75"},Ct={key:0,class:"opacity-75"},Nt={key:1,class:"opacity-75"},Dt={__name:"InvisibilityTest",setup(jt){const{t:e}=E(),k=B(),g=f(()=>k.isDarkMode);f(()=>k.isMobile);const p=d("idle"),x=d(""),l=d({}),_=d(""),h=d(!1),v=d(0),T=()=>{const r=Date.now().toString(),a="jason5ng32",y=13,D=28-a.length-y,j=Math.random().toString(36).substring(2,2+D);return r.substring(0,y)+a+j},z=()=>{const r=document.createElement("script");r.src=`https://proxydetectjs.MyIP.NETQ.ME/?pdKey=undefined&pdVal=${_.value}`,r.async=!0,r.setAttribute("data-tag","invisibilityTestScript"),r.onload=()=>{},r.onerror=a=>{console.error("Script load error:",a)},document.head.appendChild(r)},C=()=>{document.querySelectorAll('script[data-tag="invisibilityTestScript"]').forEach(a=>a.remove())},N=()=>{p.value="running",_.value=T(),L("Section","StartClick","InvisibilityTest"),x.value="",l.value={},z(),setTimeout(()=>{m()},6e3)},m=async()=>{try{const r=await fetch(`/api/invisibility?id=${_.value}`);if(!r.ok)throw new Error("Network response was not ok");const a=await r.json();if(a.message==="Data not found"&&v.value<3){setTimeout(()=>{m()},4e3,v.value++);return}l.value=a}catch(r){if(console.error("Error fetching InvisibilityTest results:",r),v.value<3){setTimeout(()=>{m()},4e3,v.value+1);return}else x.value=e("invisibilitytest.fetchError")}finally{C()}p.value="idle",v.value=0};return(r,a)=>(o(),n("div",$,[t("div",q,[t("p",null,i(s(e)("invisibilitytest.Note")),1)]),t("div",F,[t("div",O,[t("div",{class:u(["card jn-card",{"dark-mode dark-mode-border":g.value}])},[t("div",U,[t("div",W,[t("span",null,i(s(e)("invisibilitytest.Note2")),1)]),t("div",K,[t("div",Q,[I(t("input",{class:"form-check-input mt-0",type:"checkbox",value:"","aria-label":"Checkbox for Collecting datas",name:"collectingDatas",id:"collectingDatas","onUpdate:modelValue":a[0]||(a[0]=y=>h.value=y)},null,512),[[M,h.value]]),t("label",X," "+i(s(e)("invisibilitytest.agreement")),1)]),t("button",{class:"btn btn-primary",onClick:N,disabled:p.value==="running"||!h.value},[p.value==="idle"?(o(),n("span",H,i(s(e)("invisibilitytest.Run")),1)):b("",!0),p.value==="running"?(o(),n("span",J)):b("",!0)],8,G)]),t("div",Y,[x.value?(o(),n("p",Z,i(x.value),1)):b("",!0)]),w(P,{name:"jn-it-slide-fade"},{default:S(()=>[Object.keys(l.value).length>0?(o(),n("div",tt,[t("p",null,[c(i(s(e)("invisibilitytest.yourIP"))+": ",1),t("strong",null,i(l.value.ip),1),a[1]||(a[1]=c("."))]),t("p",null,[a[2]||(a[2]=t("i",{class:"bi bi-lock-fill"},null,-1)),c(" "+i(s(e)("invisibilitytest.proxyScore"))+": "+i(l.value.score.proxy)+"%. ",1)]),t("p",null,[a[3]||(a[3]=t("i",{class:"bi bi-shield-lock-fill"},null,-1)),c(" "+i(s(e)("invisibilitytest.VPNScore"))+": "+i(l.value.score.vpn)+"%. ",1)]),l.value.score.proxy>=50?(o(),n("span",it,[t("strong",null,i(s(e)("invisibilitytest.isProxy"))+" ",1)])):(o(),n("span",et,i(s(e)("invisibilitytest.notProxy"))+"  ",1)),l.value.score.vpn>=50?(o(),n("span",st,[t("strong",null,i(s(e)("invisibilitytest.isVPN")),1)])):(o(),n("span",lt,i(s(e)("invisibilitytest.notVPN")),1))])):b("",!0)]),_:1}),w(P,{name:"slide-fade"},{default:S(()=>[Object.keys(l.value).length>0?(o(),n("div",nt,[t("table",{class:u(["table table-hover",{"table-dark":g.value}])},[t("thead",null,[t("tr",null,[t("th",ot,i(s(e)("invisibilitytest.itemName")),1),t("th",at,i(s(e)("invisibilitytest.itemProxyResult")),1),t("th",ct,i(s(e)("invisibilitytest.itemComment")),1)])]),t("tbody",null,[t("tr",null,[t("td",rt,i(s(e)("invisibilitytest.blocklist.title")),1),t("td",null,[t("i",{class:u(["bi",l.value.blocklist.proxy||l.value.blocklist.vpn?"bi-x-circle-fill text-danger":"bi-check-circle-fill text-success"])},null,2)]),t("td",null,[l.value.blocklist.proxy||l.value.blocklist.vpn?(o(),n("span",ut,i(s(e)("invisibilitytest.blocklist.proxy")),1)):(o(),n("span",yt,i(s(e)("invisibilitytest.blocklist.notProxy")),1))])]),t("tr",null,[t("td",null,i(s(e)("invisibilitytest.headers.title")),1),t("td",null,[t("i",{class:u(["bi",l.value.headers.proxy?"bi-x-circle-fill text-danger":"bi-check-circle-fill text-success"])},null,2)]),t("td",null,[l.value.headers.proxy?(o(),n("span",dt,i(s(e)("invisibilitytest.headers.proxy")),1)):(o(),n("span",pt,i(s(e)("invisibilitytest.headers.notProxy")),1))])]),t("tr",null,[t("td",null,i(s(e)("invisibilitytest.datacenter.title")),1),t("td",null,[t("i",{class:u(["bi",l.value.datacenter.proxy||l.value.datacenter.vpn?"bi-x-circle-fill text-danger":"bi-check-circle-fill text-success"])},null,2)]),t("td",null,[l.value.datacenter.proxy||l.value.datacenter.vpn?(o(),n("span",vt,[c(i(s(e)("invisibilitytest.datacenter.proxy"))+" ",1),t("strong",null,i(l.value.datacenter.hosting),1)])):(o(),n("span",bt,i(s(e)("invisibilitytest.datacenter.notProxy")),1))])]),t("tr",null,[t("td",null,i(s(e)("invisibilitytest.tcp.title")),1),t("td",null,[t("i",{class:u(["bi",l.value.tcp.proxy?"bi-x-circle-fill text-danger":"bi-check-circle-fill text-success"])},null,2)]),t("td",null,[l.value.tcp.proxy?(o(),n("span",xt,[c(i(s(e)("invisibilitytest.tcp.proxy"))+" ",1),a[4]||(a[4]=t("br",null,null,-1)),c(" "+i(s(e)("invisibilitytest.tcp.computer"))+" ",1),t("strong",null,i(l.value.tcp.clientos),1),c(". "+i(s(e)("invisibilitytest.tcp.server"))+" ",1),t("strong",null,i(l.value.tcp.ipos),1)])):(o(),n("span",_t,i(s(e)("invisibilitytest.tcp.notProxy")),1))])]),t("tr",null,[t("td",null,i(s(e)("invisibilitytest.timezone.title")),1),t("td",null,[t("i",{class:u(["bi",l.value.timezone.proxy||l.value.timezone.vpn?"bi-x-circle-fill text-danger":"bi-check-circle-fill text-success"])},null,2)]),t("td",null,[l.value.timezone.proxy||l.value.timezone.vpn?(o(),n("span",ht,[c(i(s(e)("invisibilitytest.timezone.proxy"))+" ",1),a[5]||(a[5]=t("br",null,null,-1)),c(" "+i(s(e)("invisibilitytest.timezone.computer"))+" ",1),t("strong",null,i(l.value.timezone.clienttimezone),1),c(". "+i(s(e)("invisibilitytest.timezone.server"))+" ",1),t("strong",null,i(l.value.timezone.iptimezone),1)])):(o(),n("span",mt,i(s(e)("invisibilitytest.timezone.notProxy")),1))])]),t("tr",null,[t("td",null,i(s(e)("invisibilitytest.net.title")),1),t("td",null,[t("i",{class:u(["bi",l.value.net.proxy?"bi-x-circle-fill text-danger":"bi-check-circle-fill text-success"])},null,2)]),t("td",null,[l.value.net.proxy?(o(),n("span",kt,i(s(e)("invisibilitytest.net.proxy")),1)):(o(),n("span",gt,i(s(e)("invisibilitytest.net.notProxy")),1))])]),t("tr",null,[t("td",null,i(s(e)("invisibilitytest.webrtc.title")),1),t("td",null,[t("i",{class:u(["bi",l.value.webrtc.proxy?"bi-x-circle-fill text-danger":"bi-check-circle-fill text-success"])},null,2)]),t("td",null,[l.value.webrtc.proxy?(o(),n("span",ft,[c(i(s(e)("invisibilitytest.webrtc.proxy"))+" ",1),a[7]||(a[7]=t("br",null,null,-1)),c(" "+i(s(e)("invisibilitytest.webrtc.ipsAre"))+" ",1),(o(!0),n(V,null,A(l.value.webrtc.allips,y=>(o(),n("span",{key:y},[t("strong",null,i(y),1),a[6]||(a[6]=c(", "))]))),128)),t("strong",null,i(l.value.webrtc.ip),1)])):(o(),n("span",wt,i(s(e)("invisibilitytest.webrtc.notProxy")),1))])]),t("tr",null,[t("td",null,i(s(e)("invisibilitytest.flow.title")),1),t("td",null,[t("i",{class:u(["bi",l.value.flow.proxy?"bi-x-circle-fill text-danger":"bi-check-circle-fill text-success"])},null,2)]),t("td",null,[l.value.flow.proxy?(o(),n("span",St,i(s(e)("invisibilitytest.flow.proxy")),1)):(o(),n("span",Pt,i(s(e)("invisibilitytest.flow.notProxy")),1))])]),t("tr",null,[t("td",null,i(s(e)("invisibilitytest.latency.title")),1),t("td",null,[t("i",{class:u(["bi",l.value.latency.proxy?"bi-x-circle-fill text-danger":"bi-check-circle-fill text-success"])},null,2)]),t("td",null,[l.value.latency.proxy?(o(),n("span",Tt,[c(i(s(e)("invisibilitytest.latency.proxy"))+" ",1),a[8]||(a[8]=t("br",null,null,-1)),c(" "+i(s(e)("invisibilitytest.latency.fromTCP"))+" ",1),t("strong",null,i(l.value.latency.tcpTime)+"ms",1),c(", "+i(s(e)("invisibilitytest.latency.fromWS"))+" ",1),t("strong",null,i(l.value.latency.wsTime)+"ms",1)])):(o(),n("span",zt,i(s(e)("invisibilitytest.latency.notProxy")),1))])]),t("tr",null,[t("td",null,i(s(e)("invisibilitytest.highlatency.title")),1),t("td",null,[t("i",{class:u(["bi",l.value.highlatency.proxy?"bi-x-circle-fill text-danger":"bi-check-circle-fill text-success"])},null,2)]),t("td",null,[l.value.highlatency.proxy?(o(),n("span",Ct,i(s(e)("invisibilitytest.highlatency.proxy")),1)):(o(),n("span",Nt,i(s(e)("invisibilitytest.highlatency.notProxy")),1))])])])],2)])):b("",!0)]),_:1})])],2)])])]))}},Mt=R(Dt,[["__scopeId","data-v-3a186317"]]);export{Mt as default};
